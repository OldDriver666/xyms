<!doctype html>
<html>

<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <title>猫我管理平台</title>
    <meta name="description" content="这是一个 index 页面">
    <meta name="keywords" content="index">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="renderer" content="webkit">
    <meta http-equiv="Cache-Control" content="no-siteapp" />
    <link rel="icon" type="image/png" href="assets/i/favicon.png">
    <link rel="apple-touch-icon-precomposed" href="assets/i/app-icon72x72@2x.png">
    <meta name="apple-mobile-web-app-title" content="Amaze UI" />
    <link rel="stylesheet" href="assets/css/amazeui.min.css" />
    <link rel="stylesheet" href="assets/css/admin.css">
    <link rel="stylesheet" href="assets/css/app.css">
    <script src="assets/js/echarts.min.js"></script>
    <link rel="stylesheet" href="css/bootstrap.css"/>
    <link rel="stylesheet" href="resource/plugin/toastr/toastr.css"/>
    <style>
        .customIcon{
            position: relative;
            width: 22px;
            height: 22px;
        }
        #menuDowns{
            display: block;
            z-index: 1000;
            width:100%;
            position: absolute;
            opacity: 1;
            background: #e3e3e3;
        }
        #iframePage{
            width:100%;
            height:100%;
        }
        .tpl-left-nav-item .nav-link span{
            font-size: 14px !important;
        }
        .tpl-left-nav-sub-menu a span{
            font-size: 14px !important;
        }

    </style>
</head>

<body data-type="index">


    <header class="am-topbar am-topbar-inverse admin-header">
        <div class="am-topbar-brand">
            <a href="javascript:;" class="tpl-logo" style="text-align:center; color:#485a6a;">
                <img src="images/maowo.png" alt="" style="width:75px;">
            </a>
        </div>
        <div class="am-icon-list tpl-header-nav-hover-ico am-fl am-margin-right">

        </div>

        <button class="am-topbar-btn am-topbar-toggle am-btn am-btn-sm am-btn-success am-show-sm-only" data-am-collapse="{target: '#topbar-collapse'}"><span class="am-sr-only">导航切换</span> <span class="am-icon-bars"></span></button>

        <div class="am-collapse am-topbar-collapse" id="topbar-collapse">

            <ul class="am-nav am-nav-pills am-topbar-nav am-topbar-right admin-header-list tpl-header-list">
                <li class="am-dropdown" data-am-dropdown >
                    <a class="am-dropdown-toggle tpl-header-list-link" href="javascript:;"  id="headerNick">
                        <span class="tpl-header-list-user-nick" id="admin-header-nick"></span><span class="tpl-header-list-user-ico"> <img src="assets/img/user01.png"></span>
                    </a>
                    <ul class="am-dropdown-content" id="showPerInfo">
                        <li><a class="personal-Info" data-url="manage/myInfo/myInfo.html" data-name="个人信息" ><span class="am-icon-bell-o"></span> 资料</a></li>
                        <li><a class="header-safeExit"><span class="am-icon-power-off "></span> 退出</a></li>
                    </ul>
                </li>
                <li><a class="tpl-header-list-link header-safeExit"><span class="am-icon-sign-out tpl-header-list-ico-out-size"></span></a></li>
            </ul>
        </div>
    </header>


    <div class="tpl-page-container tpl-page-header-fixed" style="position:relative; padding-top: 6px;">


        <div class="tpl-left-nav tpl-left-nav-hover">
            <!--<div class="tpl-left-nav-title"></div>-->
            <div class="tpl-left-nav-list" style="position:absolute; top:25px;">
                <ul class="tpl-left-nav-menu ">
                    <li class="tpl-left-nav-item">
                        <div class="input-group custom-search-form" style="margin: 0 23px 0 4px; width:90%;">
                            <input id="menuInput" class="form-control" placeholder="查询菜单..." type="text" >
                            <span class="input-group-btn" id="menuSearch">
                                <button class="btn btn-success" type="button">
                                    <i class="am-icon-search"></i>
                                </button>
                            </span>
                        </div>
                    </li>
                </ul>
                <ul class="tpl-left-nav-menu tpl-left-nav-sub-menu active" id="menuDowns" ></ul>

                <ul class="tpl-left-nav-menu" id="menuContent"></ul>
                <ul class="tpl-left-nav-menu">
                    <li class="tpl-left-nav-item">
                        <a  class="nav-link tpl-left-nav-link-list header-safeExit">
                            <img class="customIcon" src="images/menuIcon/exit.png" />
                            <span>退出登录</span>
                        </a>
                    </li>
                </ul>
            </div>
        </div>

        <div class="tpl-content-wrapper" style="padding-top: 0px;">
            <div class="tpl-content-page-title" id="menuName" style="display:none;"></div>
            <ol class="am-breadcrumb" style="margin-bottom: 10px;">
                <li><a href="#" class="am-icon-big"></a></li>
                <li class="am-active"></li>
            </ol>
            <iframe id="iframePage"></iframe>
        </div>
    </div>


    <!--<script src="assets/js/jquery.min.js"></script>
    <script src="assets/js/amazeui.min.js"></script>
    <script src="assets/js/iscroll.js"></script>
    <script src="assets/js/app.js"></script>-->
    <script src="js/jquery.min.js"></script>
    <script src="js/jquery.i18n.properties-min-1.0.9.js"></script>
    <script type="text/javascript" src="js/jquery.tmpl.js"></script>
    <script src="js/Util.js"></script>
    <script src="resource/lib/jquery.md5.js"></script>
    <script src="js/index.js"></script>
    <script src="js/myDevType.js"></script>
    <script src="js/allCompanyInfo.js"></script>
    <script src="js/myUserRoles.js"></script>
    <script src="js/myAppChannels.js"></script>
    <script src="js/polling.js"></script>
    <script type ="text/javascript" src="resource/plugin/toastr/toastr.min.js"></script>

<script type="text/x-jquery-tmpl" id="pageMenu">
    <li class="tpl-left-nav-item">
        <a href="javascript:;" class="nav-link tpl-left-nav-link-list" data-menuid=${module_id} data-url=${url}  data-insert=${insert_auth} data-query=${query_auth} data-update=${update_auth} data-name=${module_name}>
           <img class="customIcon" src= ${"images/menuIcon/" + module_id + ".png"} />
            <span>${module_name}</span>
            <i class="am-icon-angle-right tpl-left-nav-more-ico am-fr am-margin-right"></i>
        </a>
        <ul class="tpl-left-nav-sub-menu">
            {{each(i,item) children}}
                <li>
                    <a class="childrenMenu" href="javascript:;" data-menuid=${item.module_id} data-url=${item.url} data-insert=${item.insert_auth} data-query=${item.query_auth} data-update=${item.update_auth} data-name=${item.module_name}>
                        <i class="am-icon-angle-right"></i>
                        <span>${item.module_name}</span>
                        <i class="am-icon-star tpl-left-nav-content-ico am-fr am-margin-right"></i>
                    </a>
                </li>
            {{/each}}
        </ul>
    </li>
</script>

<script type="text/x-jquery-tmpl" id="searchMenu">
    <li class="tpl-left-nav-item searchItem">
        <a class="childrenMenu" href="javascript:;" class="nav-link tpl-left-nav-link-list" data-menuid=${module_id} data-url=${url} data-insert=${insert_auth} data-query=${query_auth} data-update=${update_auth} data-name=${module_name}>
            <i class="am-icon-angle-right"></i>
            <span>${module_name}</span>
            <i class="am-icon-star tpl-left-nav-content-ico am-fr am-margin-right"></i>
        </a>
    </li>
</script>

<script type="text/javascript">
    toastr.options={
        positionClass : 'toast-center-center',
        showDuration: "300",
        hideDuration: "300",
        timeOut: "1000"
    };

    //处理键盘事件 禁止后退键（Backspace）密码或单行、多行文本框除外
    function banBackSpace(e){
        var ev = e || window.event;//获取event对象
        var obj = ev.target || ev.srcElement;//获取事件源
        var t = obj.type || obj.getAttribute('type');//获取事件源类型
        //获取作为判断条件的事件类型
        var vReadOnly = obj.getAttribute('readonly');
        //处理null值情况
        vReadOnly = (vReadOnly == "") ? false : vReadOnly;
        //当敲Backspace键时，事件源类型为密码或单行、多行文本的，
        //并且readonly属性为true或enabled属性为false的，则退格键失效
        var flag1=(ev.keyCode == 8 && (t=="password" || t=="text" || t=="textarea")
        && vReadOnly=="readonly")?true:false;
        //当敲Backspace键时，事件源类型非密码或单行、多行文本的，则退格键失效
        var flag2=(ev.keyCode == 8 && t != "password" && t != "text" && t != "textarea")
                ?true:false;

        //判断
        if(flag2){
            return false;
        }
        if(flag1){
            return false;
        }
    }

    window.onload=function(){
        //禁止后退键 作用于Firefox、Opera
        document.onkeypress=banBackSpace;
        //禁止后退键  作用于IE、Chrome
        document.onkeydown=banBackSpace;
    }
</script>
<script>
    function gotoHtml(tocontent) {
        $("a").each(function () {
            if($(this).attr("data-url") == tocontent.toHtml){
                menuid = $(this).attr("data-menuid");
                insertRight = $(this).attr("data-insert");
                queryRight = $(this).attr("data-query");
                updateRight = $(this).attr("data-update");
                moduleName = $(this).attr("data-name");
                modulepName = $(this).parent().parent().siblings("a").attr("data-name");
            }
        })

        $("#menuName").html('');
        $(".am-icon-big").html(modulepName);
        $(".am-active").html(moduleName);
        var $this = $(this);
        var url = tocontent.toHtml;
        var menuid;
        var insertRight;
        var queryRight;
        var updateRight;
        var moduleName;
        var modulepName;
        url += "?insertAuth=" +(insertRight) +"&queryAuth=" +(queryRight) +"&updateAuth=" +(updateRight)+"&moduleId=" +(menuid)+"&searchID="+(tocontent.searchID)+"&toHtmlID="+(tocontent.toHtmlID);
        if (url !== undefined) {
            $('#iframePage').attr('src', url);
            $("#menuName").html(moduleName);
            $(".am-active").html(moduleName);
        }

    }
</script>
</body>

</html>