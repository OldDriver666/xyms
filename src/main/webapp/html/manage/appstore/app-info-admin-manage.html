<!DOCTYPE html>
<html>
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
	<meta charset="UTF-8">
	<title></title>
	<link rel="stylesheet" href="../../css/global.css"/>
	<link rel="stylesheet" href="../../css/bootstrap.css"/>
	<link rel="stylesheet" href="../../css/bootstrap-select.css"/>
	<link rel="stylesheet" href="../../css/pagination.css"/>
	<link rel="stylesheet" href="../../resource/plugin/toastr/toastr.css"/>
	<style>
		#modal-loading{
			position: fixed;
			top: 0;
			right: 0;
			bottom: 0;
			left: 0;
			z-index: 2000;
			display: none;
			overflow: hidden;
			-webkit-overflow-scrolling: touch;
			outline: 0;
		}
		#modal-loading .modal-dialog{
			width:200px;
			margin:180px auto;
		}
		.showurl{
			width:50px;
		}
		.showmore{
			width:70px;
		}
		td{
			word-wrap:break-word;
			word-break:break-all;
		}
		#input-channels{list-style:none; margin: 0px; padding: 0px;}
		#input-channels li {  float:left; width: 200px;}
	</style>
</head>

<body>
<div class="container-fluid">
	<div class="row">
		<div class="mod-body">
			<nav class="navbar navbar-default">
				<div class="container-fluid">
					<div id="dev-query-condition" class="navbar-form navbar-left"style="padding-left: 0px;">
						<div class="form-group">
							<div class="col-sm-10" style="min-width: 102px; padding-left: 0px;padding-right: 22px">
								<select name="search-online_status" id="input-page-content-num" class="selectpicker show-menu-arrow show-tick form-control">
									<option value="10" selected="selected">10行</option>
									<option value="25">25行</option>
									<option value="50">50行</option>
									<option value="100">100行</option>
								</select>
							</div>
						</div>
						<div class="form-group">
							<input id="input-search-appname" type="text" class="form-control" placeholder="请输入应用名称">
						</div>

						<div class="form-group" >
							<div class="col-sm-10" style="min-width: 172px">
								<select name="search-status" id="input-search-appchannel" class="selectpicker show-menu-arrow show-tick form-control">
									<option value="">请选择应用频道</option>
								</select>
							</div>
						</div>
						<div class="form-group" >
							<div class="col-sm-10" style="min-width: 172px">
								<select name="search-status" id="input-search-status" class="selectpicker show-menu-arrow show-tick form-control">
									<!--<option value="">请选择状态</option>-->
									<!--<option value="0">待审核</option>-->
									<option value="1">发布</option>
									<!--<option value="2">拒绝</option>-->
									<option value="3">下架</option>
								</select>
							</div>
						</div>

						<button id="btn-search" type="button" class="btn btn-success">
							<span class="glyphicon glyphicon-search"> </span>
						</button>
						<button id="btn-order" type="button" class="btn btn-danger">
							<span class="">下载量排序 </span>
						</button>
					</div>

					<div class="modal right fade" id="addTempl-modal" tabindex="-1" role="dialog" aria-labelledby="addTempl-modal-label" aria-hidden="true">
						<div class="modal-dialog modal-lg" style="width: 100%; margin-top: 0px">
							<div class="modal-content">
								<div class="modal-header">
									<button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>
									<h4 class="modal-title" id="addTempl-modal-label">添加/编辑应用信息</h4>
								</div>
								<div class="modal-body">
									<form id="form-addTempl" data-action="" class="form-horizontal">
										<input type="hidden" id="input-id">
										<div class="form-group col-sm-4" style="margin-bottom: 0px">
											<label for="input-appindex" class="col-sm-4 control-label distribCol1"><span class="necessary"></span>APP唯一标示</label>
											<div class="col-sm-8">
												<input type="text" class="form-control" id="input-appindex" name="devIME" placeholder="请输入APP唯一标示"  readonly="readonly" style="border: 0;background: #fff;box-shadow: none;-webkit-box-shadow: none;">
											</div>
										</div>
										<div class="form-group col-sm-4" style="margin-bottom: 0px">
											<label for="input-appname" class="col-sm-4 control-label distribCol1"><span class="necessary"></span>应用名称</label>
											<div class="col-sm-8">
												<input type="text" class="form-control" id="input-appname" name="devXW" placeholder="请输入应用名称"  readonly="readonly" style="border: 0;background: #fff;box-shadow: none;-webkit-box-shadow: none;">
											</div>
										</div>
										<div class="form-group col-sm-4" style="margin-bottom: 0px">
											<label for="input-appspell" class="col-sm-4 control-label distribCol1"><span class="necessary"></span>应用拼音</label>
											<div class="col-sm-8">
												<input type="text" class="form-control" id="input-appspell" name="devXW" placeholder="请输入应用拼音"  readonly="readonly" style="border: 0;background: #fff;box-shadow: none;-webkit-box-shadow: none;">
											</div>
										</div>
										<div class="form-group col-sm-4" style="margin-bottom: 0px">
											<label for="input-packagename" class="col-sm-4 control-label distribCol1"><span class="necessary"></span>包名</label>
											<div class="col-sm-8">
												<input type="text" class="form-control" id="input-packagename" name="devXW" placeholder="请输入包名"  readonly="readonly" style="border: 0;background: #fff;box-shadow: none;-webkit-box-shadow: none;">
											</div>
										</div>
										<div class="form-group col-sm-4" style="margin-bottom: 0px">
											<label for="input-devid" class="col-sm-4 control-label distribCol1"><span class="necessary"></span>开发者ID</label>
											<div class="col-sm-8">
												<input type="text" class="form-control" id="input-devid" name="devXW" placeholder="请输入开发者ID"  readonly="readonly" style="border: 0;background: #fff;box-shadow: none;-webkit-box-shadow: none;">
											</div>
										</div>
										<div class="form-group col-sm-4" style="margin-bottom: 0px">
											<label for="input-devname" class="col-sm-4 control-label distribCol1"><span class="necessary"></span>开发者名称</label>
											<div class="col-sm-8">
												<input type="text" class="form-control" id="input-devname" name="devXW" placeholder="请输入开发者名称"  readonly="readonly" style="border: 0;background: #fff;box-shadow: none;-webkit-box-shadow: none;">
											</div>
										</div>
										<div class="form-group col-sm-4" style="margin-bottom: 0px">
											<label for="input-createtime" class="col-sm-4 control-label distribCol1"><span class="necessary"></span>创建时间</label>
											<div class="col-sm-8">
												<input type="text" class="form-control" id="input-createtime" name="devXW" placeholder="请输入prority"  readonly="readonly" style="border: 0;background: #fff;box-shadow: none;-webkit-box-shadow: none;">
											</div>
										</div>
										<div class="form-group col-sm-4" style="margin-bottom: 0px">
											<label for="input-updatetime" class="col-sm-4 control-label distribCol1"><span class="necessary"></span>更新时间</label>
											<div class="col-sm-8">
												<input type="text" class="form-control" id="input-updatetime" name="devXW" placeholder="请输入prority"  readonly="readonly" style="border: 0;background: #fff;box-shadow: none;-webkit-box-shadow: none;">
											</div>
										</div>
										<div class="form-group col-sm-4" style="margin-bottom: 0px">
											<label for="input-topcategory" class="col-sm-4 control-label distribCol1"><span class="necessary"></span>应用大类型</label>
											<div class="col-sm-8">
												<input type="text" class="form-control" id="input-topcategory" name="devXW" placeholder="请输入应用大类型"  readonly="readonly" style="border: 0;background: #fff;box-shadow: none;-webkit-box-shadow: none;">
											</div>
										</div>
										<div class="form-group col-sm-4" style="margin-bottom: 0px">
											<label for="input-category" class="col-sm-4 control-label distribCol1"><span class="necessary"></span>应用小类型</label>
											<div class="col-sm-8">
												<input type="text" class="form-control" id="input-category" name="devXW" placeholder="请输入应用小类型"  readonly="readonly" style="border: 0;background: #fff;box-shadow: none;-webkit-box-shadow: none;">
											</div>
										</div>


										<div class="form-group col-sm-4" style="margin-bottom: 0px">
											<label for="input-version" class="col-sm-4 control-label distribCol1"><span class="necessary"></span>版本</label>
											<div class="col-sm-8">
												<input type="text" class="form-control" id="input-version" name="devXW" placeholder="请输入版本" readonly="readonly" style="border: 0;background: #fff;box-shadow: none;-webkit-box-shadow: none;" >
											</div>
										</div>
										<div class="form-group col-sm-4" style="margin-bottom: 0px">
											<label for="input-versioncode" class="col-sm-4 control-label distribCol1"><span class="necessary"></span>版本号</label>
											<div class="col-sm-8">
												<input type="text" class="form-control" id="input-versioncode" name="devXW" placeholder="请输入版本号"  readonly="readonly" style="border: 0;background: #fff;box-shadow: none;-webkit-box-shadow: none;">
											</div>
										</div>
										<div class="form-group col-sm-4" style="margin-bottom: 0px">
											<label for="input-icontype" class="col-sm-4 control-label distribCol1"><span class="necessary"></span>图标类型</label>
											<div class="col-sm-8">
												<input type="text" class="form-control" id="input-icontype" name="devXW" placeholder="请输入图标类型" readonly="readonly" style="border: 0;background: #fff;box-shadow: none;-webkit-box-shadow: none;" >
											</div>
										</div>
										<div class="form-group col-sm-4" style="margin-bottom: 0px">
											<label for="input-star" class="col-sm-4 control-label distribCol1"><span class="necessary"></span>星级</label>
											<div class="col-sm-8">
												<input type="text" class="form-control" id="input-star" name="devXW" placeholder="请输入星级" readonly="readonly" style="border: 0;background: #fff;box-shadow: none;-webkit-box-shadow: none;" >
											</div>
										</div>
										<div class="form-group col-sm-4" style="margin-bottom: 0px">
											<label for="input-count" class="col-sm-4 control-label distribCol1"><span class="necessary"></span>下载次数</label>
											<div class="col-sm-8">
												<input type="text" class="form-control" id="input-count" name="devXW" placeholder="请输入下载次数"  readonly="readonly" style="border: 0;background: #fff;box-shadow: none;-webkit-box-shadow: none;">
											</div>
										</div>
										<div class="form-group col-sm-4" style="margin-bottom: 0px">
											<label class="col-sm-4 control-label distribCol1"><span class="necessary"></span>应用图标</label>
											<div id="iconShow" class="col-sm-8">
											</div>
										</div>
										<div class="form-group col-sm-4" style="margin-bottom: 0px">
											<label for="input-description" class="col-sm-4 control-label distribCol1"><span class="necessary"></span>应用简介</label>
											<div class="col-sm-8">
												<textarea type="text" class="form-control" id="input-description" name="devXW" placeholder="请输入应用简介"  readonly="readonly" style="border: 0;background: #fff;box-shadow: none;-webkit-box-shadow: none;"></textarea>
											</div>
										</div>





										<div class="form-group col-sm-8" style="margin-bottom: 0px">
											<label class="col-sm-2 control-label distribCol1"><span class="necessary"></span>应用截图</label>
											<div id="imgShow" class="col-sm-10">
											</div>
										</div>

										<div class="form-group col-sm-9" style="margin-bottom: 0px">
											<label for="input-channels" class="col-sm-2 control-label distribCol1"><span class="necessary"></span>应用频道</label>
											<div class="col-sm-10">
												<ul name="input-appchannel" id="input-channels"></ul>
												<!--<input type="text" class="form-control" id="input-appchannel" name="devChannel" placeholder="请输入应用频道"  readonly="readonly" style="border: 0;background: #fff;box-shadow: none;-webkit-box-shadow: none;">-->
											</div>
										</div>



										<div class="form-group col-sm-9" style="margin-bottom: 0px">
											<label for="input-download" class="col-sm-2 control-label distribCol1"><span class="necessary"></span>安装包</label>
											<div class="col-sm-10">
												<input type="text" class="form-control" id="input-download" name="devXW" placeholder="请输入下载地址" readonly="readonly" style="border: 0;background: #fff;box-shadow: none;-webkit-box-shadow: none;" >
											</div>
										</div>
										<div class="form-group col-sm-4" style="margin-bottom: 0px">
											<label for="input-size" class="col-sm-4 control-label distribCol1"><span class="necessary"></span>应用大小</label>
											<div class="col-sm-8">
												<input type="text" class="form-control" id="input-size" name="devXW" placeholder="请输入应用大小"  readonly="readonly" style="border: 0;background: #fff;box-shadow: none;-webkit-box-shadow: none;">
											</div>
										</div>
										<div class="form-group col-sm-4" style="margin-bottom: 0px">
											<label for="input-label" class="col-sm-4 control-label distribCol1"><span class="necessary"></span>标签</label>
											<div class="col-sm-8">
												<input type="text" class="form-control" id="input-label" name="devXW" placeholder="请输入标签" readonly="readonly" style="border: 0;background: #fff;box-shadow: none;-webkit-box-shadow: none;" >
											</div>
										</div>
										<div class="form-group col-sm-4" style="margin-bottom: 0px" >
											<label  for="orientation" class="col-sm-5 control-label distribCol1"><span class="necessary"></span>图片摆放方向</label>
											<div class="col-sm-7" style="" >
												<select name="adduserRoles" id="orientation" class="show-menu-arrow  form-control" >
													<option value="" >请选择摆放方向</option>
													<option value="0" >竖向</option>
													<option value="1">横向</option>
												</select>
											</div>
										</div>


										<div class="form-group col-sm-4" id="input-status-wrap" style="margin-bottom: 0px" >
											<label class="col-sm-4 control-label distribCol1">状态</label>
											<div class="col-sm-8">
												<!--<label class="radio-inline">
													<input type="radio" name="status" id="radio-status-enabled" value="0" checked> 待审核
												</label>-->
												<label class="radio-inline">
													<input type="radio" name="status" id="radio-status-disabled" value="1"> 发布
												</label>
												<!--<label class="radio-inline">
													<input type="radio" name="status" id="radio-status-refuse" value="2"> 拒绝
												</label>-->
												<label class="radio-inline">
													<input type="radio" name="status" id="radio-status-xiajia" value="3"> 下架
												</label>
											</div>
										</div>

										<div class="form-group col-sm-4" >
											<label for="input-remarks" class="col-sm-4 control-label distribCol1"><span class="necessary"></span>备注信息</label>
											<div class="col-sm-8">
												<input type="text" class="form-control" id="input-remarks" name="devXW" placeholder="请输入审核备注信息">
											</div>
										</div>
									</form>
								</div>
								<div class="modal-footer">
									<button type="button" class="btn btn-default" data-dismiss="modal">关闭</button>
									<button id="btn-add-submit" type="button" class="btn btn-primary">提交</button>
								</div>
							</div><!-- /.modal-content -->
						</div><!-- /.modal -->
					</div>

					<div id="outerdiv" style="position:fixed;top:0;left:0;background:rgba(0,0,0,0.7);z-index:2000;width:100%;height:100%;display:none;">
						<div id="innerdiv" style="position:absolute;">
							<img id="bigimg" style="border:5px solid #fff;" src="" />
						</div>
					</div>

				</div>
			</nav>
			<table id="table" class="table table-hover">
				<!--<thead>
				<tr>
					<th>AppID</th>
					<th>应用名称</th>
					<th>应用图标</th>
					<th>APP唯一标示</th>
					<th>app_spell</th>
					<th>包名</th>
					<th>开发者ID</th>
					<th>开发者名称</th>
					<th>应用大类型</th>
					<th>应用小类型</th>
					<th>应用频道</th>
					<th>应用简介</th>
					<th>版本号</th>
					<th>versioncode</th>
					<th>应用图标</th>
					<th>icon_type</th>
					<th>截图</th>
					<th>下载地址</th>
					<th>应用大小</th>
					<th>prority</th>
					<th>状态</th>
					<th>备注信息</th>
					<th>标签</th>
					<th>star</th>
					<th>orientation</th>
					<th>更新时间</th>
					<th>创建时间</th>
					<th>下载次数</th>

					<th class="table-manage" style="width: 80px">管理</th>
					<th class="table-manage" style="width: 107px">频道应用</th>
				</tr>
				</thead>-->
				<tbody id="pageContent"></tbody>
				<tfoot>
				<tr>
					<td colspan="6">
						<div id="pagination" class="pagination"></div>
					</td>
				</tr>
				</tfoot>
			</table>
		</div>
	</div>
</div>
<div class="fileContentTxt" style="display: none;"></div>

<div class="modal right fade" id="modal-loading" tabindex="-1" role="dialog" aria-hidden="true">
	<div class="modal-dialog">
		<div class="modal-content">
			<div class="modal-body" style="text-align: center;">
				正在添加数据<br><img src="../../images/uploading.gif">
			</div>
		</div>
	</div>
</div>

<script type ="text/javascript" src="../../js/jquery.min.js"></script>
<script type ="text/javascript" src="../../js/bootstrap.min.js"></script>
<script type ="text/javascript" src="../../js/bootstrap-select.js"></script>
<script type ="text/javascript" src="../../js/jquery.tmpl.js"></script>
<script type ="text/javascript" src="../../resource/plugin/toastr/toastr.min.js"></script>
<script type ="text/javascript" src="../../js/Util.js"></script>
<script type ="text/javascript" src="js/app-info-admin-manage.js"></script>
<!-- jQuery Validate -->
<script type ="text/javascript" src="../../resource/plugin/jquery.validate-1.14.0/jquery.validate.min.js"></script>
<script type ="text/javascript" src="../../resource/plugin/jquery.validate-1.14.0/additional-methods.min.js"></script>
<script type ="text/javascript" src="../../resource/plugin/jquery.validate-1.14.0/jquery.validate.extend.js"></script>
<script type="text/x-jquery-tmpl" id="pageTmpl">
<tr class="tr-array ">
	<td style="display:none;">${id}</td>
	<td style="display:none;"><div class="showmore">${app_name}</div></td>
	<td style="position:relative">
		<a href="javascript:void(0);" class="table-edit-btn" style="width:115px;height:115px;display:inline-block;">
			<img src=${icon} style="width:85px;">
		</a>
		<h4>${app_name}</h4>
		<h4>下载次数：${count}</h4>
	</td>
	<td style="display:none;">${app_index}</td>
	<td style="display:none;">${app_spell}</td>
	<td class="table-content-hidden" style="display:none">${package_name}</td>
	<td style="display:none;"><div class="showmore">${dev_id}</div></td>
	<td style="display:none;"><div class="showmore">${dev_name}</div></td>
	<td style="display:none;"><div class="showmore">${top_category}</div></td>
	<td style="display:none;"><div class="showmore">${category}</div></td>
	<td style="display:none;"><div class="showmore">${channelNameQuery(channel_id)}</div></td>
 	<td style="display:none;">${description}</td>
	<td style="display:none;" class="table-content-hidden"><div class="showmore">${version}</div></td>
	<td style="display:none;">${versioncode}</td>
	<td  class="showurl" style="display:none;">${icon}</td>
	<td style="display:none;">${icon_type}</td>
	<td class="showurl" style="display:none;">${images}</td>
	<td class="showurl" style="display:none;">${download}</td>
	<td style="display:none;"><div class="showmore">${size}</div></td>
	<td style="display:none;">${prority}</td>
	<td style="display:none;"><div class="showmore">{{if status == 0}}待审核{{else status == 1}}发布{{else status == 2}}拒绝{{else status == 3}}下架{{/if}}</div></td>
	<td style="display:none;"><div class="showmore">${remarks}</div></td>
	<td style="display:none;">${label}</td>
	<td style="display:none;">${star}</td>
	<td style="display:none;">${orientation}</td>
	<td style="display:none;">${channel_id}</td>
	<td style="display:none;">${Util.formatDateTime(updated)}</td>
	<td style="display:none;">${Util.formatDateTime(created)}</td>
	<td style="display:none;">${count}</td>
	<td style="display:none;">
	    <ul class="parentChannels">
            {{each(i,item) channel_list}}
                <li class="childChannel" data-channel-id=${item.channel_id} data-channel-name=${item.channel_name} data-channel-prority=${item.prority}> </li>
            {{/each}}
        </ul>
    </td>
</tr>
</script>

<script type="text/x-jquery-tmpl" id="pageChannels">
    <li><input name="channelboxes" type="checkbox" value=${id}><span class="channelName">${channel_name}</span><span style="margin-left:10px;">权值：</span><input id="propity-${id}" type="text" style="width:50px;" value=${prority} ></li>
</script>
<script type="text/x-jquery-tmpl" id="pageSearchChannel">
    <option value=${id}>${channel_name}</option>
</script>

<script type="text/javascript">
	var myAppChannels = JSON.parse(localStorage.getItem("myAppChannels"));
	var Lens1 = myAppChannels.length;
	function channelNameQuery(id){
		for(var i=0; i< Lens1; i++){
			if(myAppChannels[i].id == id){
				return myAppChannels[i].channel_name;
			}
		}
	}

    toastr.options={
        positionClass : 'toast-center-center',
        showDuration: "300",
        hideDuration: "300",
        timeOut: "1000"
    };
</script>
<script>
function uploadfile(input) {
    //html5 支持chrome IE10 FF
    if (window.FileReader) {
        var file = input.files[0];
        filename = file.name.split(".")[0];
        var reader = new FileReader();
        reader.onload = function() {
            $(".fileContentTxt").html(this.result);
        };
        reader.readAsText(file);
    }
}
</script>
</body>
</html>