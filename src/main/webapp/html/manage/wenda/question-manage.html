<!DOCTYPE html>
<html>
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
	<meta charset="UTF-8">
	<title></title>
	<link rel="stylesheet" href="../../layui/css/layui.css" media="all">
	<link rel="stylesheet" href="../../css/global.css"/>
	<link rel="stylesheet" href="../../css/bootstrap.css"/>
	<link rel="stylesheet" href="../../css/bootstrap-select.css"/>
	<link rel="stylesheet" href="../../css/pagination.css"/>
	<link rel="stylesheet" href="../../css/uploadImg.css"/>
	<link rel="stylesheet" href="../../resource/plugin/toastr/toastr.css"/>
	<style>
		#modal-loading{
			position: fixed;
			top: 0;
			right: 0;
			bottom: 0;
			left: 0;
			z-index: 2000;
			display: none;
			overflow: hidden;
			-webkit-overflow-scrolling: touch;
			outline: 0;
		}
		#modal-loading .modal-dialog{
			width:200px;
			margin:180px auto;
		}
		td{
			min-width: 80px;
		}
		.title{
			width:20%;
			word-break: break-all;
		}
		.content{
			width:40%;
			word-break: break-all;
		}
		.content img{
			max-width: 100%;
			max-height: 200px;
		}
		.z_file  .fileInsert{
			width: 100%;
			height: 100%;
			opacity: 0;
			position: absolute;
			top: 0px;
			left: 0px;
			z-index: 100;
		}
		a:hover,a:active{color: #3bb4f2;}
		.answer_num{ color: #3bb4f2;display:inline-block;width: 50px;height: 20px;text-decoration: underline }
	</style>
</head>

<body>
<div class="container-fluid">
	<div class="row">
		<div class="mod-body">
			<nav class="navbar navbar-default">
				<div class="container-fluid">
					<div id="dev-query-condition" class="navbar-form navbar-left" style="padding-left: 0px">
						<div class="form-group">
							<div class="col-sm-10" style="min-width: 102px; padding-left: 0px;padding-right: 22px">
								<select name="search-online_status" id="input-page-content-num" class="selectpicker show-menu-arrow show-tick form-control">
									<option value="10" selected="selected">10行</option>
									<option value="25">25行</option>
									<option value="50">50行</option>
									<option value="100">100行</option>
								</select>
							</div>
						</div>
						<div class="form-group">
							<input id="input-search-title" type="text" class="form-control" placeholder="请输入问题标题">
						</div>
						<div class="form-group">
							<input id="input-search-questionID" type="text" class="form-control" placeholder="请输入问题ID">
						</div>
						<div class="form-group">
							<input id="input-search-nick" type="text" class="form-control" placeholder="请输入用户昵称">
						</div>
						<div class="form-group">
							<input id="input-search-userid" type="text" class="form-control" placeholder="请输入用户ID">
						</div>

						<button id="btn-search" type="button" class="btn btn-success">
							<span class="glyphicon glyphicon-search"> </span>
						</button>
					</div>
					<div class="navbar-form navbar-right">
						<button id="btn-add" type="button" class="btn btn-success" data-toggle="modal" data-target="#addTempl-modal">
							<span class="glyphicon glyphicon-plus"> </span><span style="margin-left: 3px">添加问题</span>
						</button>
					</div>

					<div class="modal right fade" id="addTempl-modal" tabindex="-1" role="dialog" aria-labelledby="addTempl-modal-label" aria-hidden="true">
						<div class="modal-dialog">
							<div class="modal-content">
								<div class="modal-header">
									<button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>
									<h4 class="modal-title" id="addTempl-modal-label">添加/编辑问题信息</h4>
								</div>
								<div class="modal-body">
									<form id="form-addTempl" data-action="" class="form-horizontal">
										<div class="form-group" id="pId">
											<label for="input-id" class="col-sm-2 control-label distribCol1"><span class="necessary"></span>问题ID</label>
											<div class="col-sm-10">
												<input type="text" class="form-control" id="input-id" name="devIME" placeholder="请输入问题ID号" readonly style="border: 0;background: #fff;box-shadow: none;-webkit-box-shadow: none;">
											</div>
										</div>
										<div class="form-group" id="uId">
											<label for="input-userID" class="col-sm-2 control-label distribCol1"><span class="necessary"></span>用户ID</label>
											<div class="col-sm-10">
												<input type="text" class="form-control" id="input-userID" name="devIME" placeholder="请输入用户ID号" readonly style="border: 0;background: #fff;box-shadow: none;-webkit-box-shadow: none;">
											</div>
										</div>
										<div class="form-group" id="title1">
											<label for="input-title1" class="col-sm-2 control-label distribCol1"><span class="necessary"></span>问题标题</label>
											<div class="col-sm-10">
												<input type="text" class="form-control" id="input-title1" name="devXW" placeholder="请输入问题标题" >
											</div>
										</div>
										<div class="form-group" id="title2">
											<label for="input-title" class="col-sm-2 control-label distribCol1"><span class="necessary"></span>问题标题</label>
											<div class="col-sm-10">
												<input type="text" class="form-control" id="input-title" name="devXW" placeholder="请输入问题标题" readonly style="border: 0;background: #fff;box-shadow: none;-webkit-box-shadow: none;">
											</div>
										</div>
										<div class="form-group" id="content1">
											<label for="input-content1" class="col-sm-2 control-label distribCol1"><span class="necessary"></span>问题内容</label>
											<div class="col-sm-10">
												<textarea type="text" class="form-control" id="input-content1" name="devXW" placeholder="请输入问题内容"  ></textarea>
											</div>
										</div>

										<div class="form-group" id="content2">
											<label for="input-content" class="col-sm-2 control-label distribCol1"><span class="necessary"></span>问题内容</label>
											<div class="col-sm-10">
											    <div id="input-content" style="border: 0;background: #fff;box-shadow: none;-webkit-box-shadow: none; padding:7px 0px 0px 12px"></div>
											</div>
										</div>
										<div id="addImgUrl" class="form-group" >
											<label for="" class="col-sm-2 control-label distribCol1"><span class="necessary"></span>上传图片</label>
											<div class="col-sm-10 z_file fl">
												<img src="../../images/a11.png" class="add-img">
												<input type="file" name="file" id="fileInsert" class="fileInsert" value="" accept="image/jpg,image/jpeg,image/png,image/bmp" multiple />
											</div>
										</div>
										<!--<div id="addImgUrl" class="form-group" >
											<label for="" class="col-sm-3 control-label"><span class="necessary"></span>上传广告截图图片</label>
											<div class="img-box full">
												<section class=" img-section">
													<p class="up-p"><span class="up-span">最多可以上传10张图片</span></p>
													<div class="z_photo upimg-div clear" >
														<section class="z_file fl">
															<img src="../../images/a11.png" class="add-img">
															<input type="file" name="file" id="file" class="file1" value="" accept="image/jpg,image/jpeg,image/png,image/bmp" multiple />
														</section>
													</div>
												</section>
											</div>
											<aside class="mask works-mask">
												<div class="mask-content">
													<p class="del-p ">您确定要删除作品图片吗？</p>
													<p class="check-p"><span class="del-com wsdel-ok">确定</span><span class="wsdel-no">取消</span></p>
												</div>
											</aside>
										</div>-->
										<div class="form-group" id="input-status-wrap">
											<label class="col-sm-2 control-label distribCol1">状态</label>
											<div class="col-sm-10">
												<label class="radio-inline">
													<input type="radio" name="status" id="radio-status-enabled" value="0" checked> 不可用
												</label>
												<label class="radio-inline">
													<input type="radio" name="status" id="radio-status-disabled" value="1"> 可用
												</label>
											</div>
										</div>
									</form>
								</div>
								<div class="modal-footer">
									<button type="button" class="btn btn-default" data-dismiss="modal">关闭</button>
									<button id="btn-add-submit" type="button" class="btn btn-primary">提交</button>
								</div>
							</div><!-- /.modal-content -->
						</div><!-- /.modal -->
					</div>

					<div id="outerdiv" style="position:fixed;top:0;left:0;background:rgba(0,0,0,0.7);z-index:2000;width:100%;height:100%;display:none;">
						<div id="innerdiv" style="position:absolute;">
							<img id="bigimg" style="border:5px solid #fff;" src="" />
						</div>
					</div>

				</div>
			</nav>
			<table id="table" class="table table-striped table-hover table-content">
				<thead>
				<tr>
					<th>问题ID</th>
					<th style="width: 350px">问题标题</th>
					<!--<th>问题内容</th>-->
					<th>用户ID</th>
					<th>昵称</th>
					<th>回答数</th>
					<th>浏览数</th>
					<th>关注数</th>
					<th>状态</th>
					<th style="width: 150px">更新时间</th>
					<th style="width: 150px">创建时间</th>
					<th class="table-manage" style="width: 80px">管理</th>
				</tr>
				</thead>
				<tbody id="pageContent"></tbody>
				<tfoot>
				<tr>
					<td colspan="6">
						<div id="pagination" class="pagination"></div>
					</td>
				</tr>
				</tfoot>
			</table>
		</div>
	</div>
</div>
<div class="fileContentTxt" style="display: none;"></div>

<div class="modal right fade" id="modal-loading" tabindex="-1" role="dialog" aria-hidden="true">
	<div class="modal-dialog">
		<div class="modal-content">
			<div class="modal-body" style="text-align: center;">
				正在添加数据<br><img src="../../images/uploading.gif">
			</div>
		</div>
	</div>
</div>

<script type ="text/javascript" src="../../js/jquery.min.js"></script>
<script type ="text/javascript" src="../../js/bootstrap.min.js"></script>
<script type ="text/javascript" src="../../js/bootstrap-select.js"></script>
<script type ="text/javascript" src="../../js/jquery.tmpl.js"></script>
<script type ="text/javascript" src="../../resource/plugin/toastr/toastr.min.js"></script>
<script type ="text/javascript" src="../../js/Util.js"></script>
<script type ="text/javascript" src="js/question-manage.js"></script>
<script type ="text/javascript" src="../../js/uploadImg.js"></script>
<script type="text/javascript" src="../../layui/layui.js"></script>
<!-- jQuery Validate -->
<script type ="text/javascript" src="../../resource/plugin/jquery.validate-1.14.0/jquery.validate.min.js"></script>
<script type ="text/javascript" src="../../resource/plugin/jquery.validate-1.14.0/additional-methods.min.js"></script>
<script type ="text/javascript" src="../../resource/plugin/jquery.validate-1.14.0/jquery.validate.extend.js"></script>
<script type="text/x-jquery-tmpl" id="pageTmpl">
<tr>
	<td >${id}</td>
	<td class="title table-content-hidden">${title}</td>
	<!--<td class="content">{{html content}}</td>-->
	<td>${user_id}</td>
	<td class="table-content-hidden">${nick}</td>
	<td><a href="javascript:void(0);" class="answer_num">${answer_num}</a></td>
	<td>${browse_num}</td>
	<td>${concerns}</td>
	<td>{{if status == 0}}不可用 {{else status == 1}}可用{{/if}}</td>
	<td style="display: none">${content}</td>
	<td>${Util.formatDateTime(updated)}</td>
	<td>${Util.formatDateTime(created)}</td>
	<td class="table-update">
		<a href="javascript:void(0);" class="table-edit-btn">
			<button type="button" class="btn btn-default btn-sm btn-edit">
			<span class="glyphicon glyphicon-edit"></span> 编辑
			</button>
		</a>
	</td>
</tr>
</script>

<script type="text/x-jquery-tmpl" id="pageDevType">
    <option value=${client_type}>${client_name}</option>
</script>

<script type="text/javascript">
	var imgurl = uploadUrl + "upload";
	layui.use('layedit', function(){
		var layedit = layui.layedit;
		var index = layedit.build('input-content1', {
			uploadImage: {
				url: imgurl, //接口url
				type: 'post' //默认post
			},
			tool: []
		}); //建立编辑器
		layedit.getContent(index) //获取html
		layedit.getText(index) // 获取纯文本
		//layedit.getSelection(index)
	});

    toastr.options={
        positionClass : 'toast-center-center',
        showDuration: "300",
        hideDuration: "300",
        timeOut: "1000"
    };

</script>
<script>
function uploadfile(input) {
    //html5 支持chrome IE10 FF
    if (window.FileReader) {
        var file = input.files[0];
        filename = file.name.split(".")[0];
        var reader = new FileReader();
        reader.onload = function() {
            $(".fileContentTxt").html(this.result);
        };
        reader.readAsText(file);
    }
}
</script>
<!--点击获取跳转信息-->
<!--<script type="text/javascript">
    $("#pageContent").on("click",".answer_num",function(){
        var that = $(this).parent().parent();
        var questionID = that.find("td").eq(0).text();
        window.location.href= "answer-manage.html?questionID="+questionID;
    });
</script>-->
<!--跳转过来的问题ID-->
<!--<script type="text/javascript">
    var thisURL = document.URL;
    var getval =thisURL.split('?')[1];
    var showval= getval.split("=")[1];
</script>-->
<script type="text/javascript">
    $("#pageContent").on("click",".answer_num",function(){
        var that = $(this).parent().parent();
        var searchID = that.find("td").eq(0).text();
        var toHtml="manage/wenda/answer-manage.html";
        parent.gotoHtml({'searchID':searchID, 'toHtml':toHtml});
    });
</script>
</body>
</html>